(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/ARROWOPEN.4d66597d.svg"},13:function(e,t,a){e.exports=a.p+"static/media/ARROWCLOSE.9f3a719a.svg"},24:function(e,t,a){e.exports=a.p+"static/media/LOGO.8b6d4945.svg"},26:function(e,t,a){e.exports=a.p+"static/media/deletePlanet.4b823e92.svg"},27:function(e,t,a){e.exports=a(64)},32:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),i=a.n(l),s=(a(32),a(4)),c=a(5),o=a(6),u=a(8),d=a(7),m=a(9),p=a(24),h=a.n(p),f=function(){return r.a.createElement("img",{className:"logo",src:h.a,alt:"logo"})},v=a(12),E=a.n(v),P=a(13),N=a.n(P),g=a(14),b=function(e){var t=e.data;return r.a.createElement("tbody",null,r.a.createElement("tr",{className:"desktop"},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.rotation_period),r.a.createElement("td",null,t.orbital_period),r.a.createElement("td",null,t.diameter),r.a.createElement("td",null,t.climate),r.a.createElement("td",null,t.surface_water),r.a.createElement("td",null,t.population)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Planet Name"),r.a.createElement("td",{align:"left"},t.name)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Rotation period"),r.a.createElement("td",{align:"left"},t.rotation_period)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Orbital period"),r.a.createElement("td",{align:"left"},t.orbital_period)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Diameter"),r.a.createElement("td",{align:"left"},t.diameter)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Climate"),r.a.createElement("td",{align:"left"},t.climate)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Surface water"),r.a.createElement("td",{align:"left"},t.surface_water)),r.a.createElement("tr",{className:"mobile"},r.a.createElement("td",{align:"left"},"Population"),r.a.createElement("td",{align:"left"},t.population)))},y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={planetList:[],planetName:{direction:"asc"},rotationPeriod:{direction:"asc"},orbitalPeriod:{direction:"asc"},diameter:{direction:"asc"},climate:{direction:"asc"},surfaceWater:{direction:"asc"},population:{direction:"asc"}},a.handleSort=function(e){return function(t){if(a.state.planetList.length>0)if("planetName"===e){var n=[],r=[],l=a.state.planetList.map(function(e){return{planetName:e.props.data.name,key:e.key}});"asc"===a.state.planetName.direction?(l.sort(function(e,t){return e.planetName<t.planetName?-1:e.planetName>t.planetName?1:0}),l.forEach(function(e){n.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),n.forEach(function(e){return r.push(e[0])}),a.setState({planetList:r,planetName:{direction:"desc"}})):(l.sort(function(e,t){return t.planetName<e.planetName?-1:t.planetName>e.planetName?1:0}),l.forEach(function(e){n.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),n.forEach(function(e){return r.push(e[0])}),a.setState({planetList:r,planetName:{direction:"asc"}}))}else if("rotationPeriod"===e){var i=[],s=[],c=[],o=[],u=a.state.planetList.map(function(e){return{rotationPeriod:e.props.data.rotation_period,key:e.key}});"asc"===a.state.rotationPeriod.direction?(u.forEach(function(e){return isNaN(e.rotationPeriod)?i.push(e):s.push(e)}),s.sort(function(e,t){return e.rotationPeriod-t.rotationPeriod}),(u=s.concat(i)).forEach(function(e){return c.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),c.forEach(function(e){return o.push(e[0])}),a.setState({planetList:o,rotationPeriod:{direction:"desc"}})):(u.forEach(function(e){return isNaN(e.rotationPeriod)?i.push(e):s.push(e)}),s.sort(function(e,t){return t.rotationPeriod-e.rotationPeriod}),(u=i.concat(s)).forEach(function(e){return c.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),c.forEach(function(e){return o.push(e[0])}),a.setState({planetList:o,rotationPeriod:{direction:"asc"}}))}else if("orbitalPeriod"===e){var d=[],m=[],p=[],h=[],f=a.state.planetList.map(function(e){return{orbitalPeriod:e.props.data.orbital_period,key:e.key}});"asc"===a.state.orbitalPeriod.direction?(f.forEach(function(e){return isNaN(e.orbitalPeriod)?d.push(e):m.push(e)}),m.sort(function(e,t){return e.orbitalPeriod-t.orbitalPeriod}),(f=m.concat(d)).forEach(function(e){return p.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),p.forEach(function(e){return h.push(e[0])}),a.setState({planetList:h,orbitalPeriod:{direction:"desc"}})):(f.forEach(function(e){return isNaN(e.orbitalPeriod)?d.push(e):m.push(e)}),m.sort(function(e,t){return t.orbitalPeriod-e.orbitalPeriod}),(f=d.concat(m)).forEach(function(e){return p.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),p.forEach(function(e){return h.push(e[0])}),a.setState({planetList:h,orbitalPeriod:{direction:"asc"}}))}else if("diameter"===e){var v=[],E=[],P=[],N=[],g=a.state.planetList.map(function(e){return{diameter:e.props.data.diameter,key:e.key}});"asc"===a.state.diameter.direction?(g.forEach(function(e){return isNaN(e.diameter)?v.push(e):E.push(e)}),E.sort(function(e,t){return e.diameter-t.diameter}),(g=E.concat(v)).forEach(function(e){return P.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),P.forEach(function(e){return N.push(e[0])}),a.setState({planetList:N,diameter:{direction:"desc"}})):(g.forEach(function(e){return isNaN(e.diameter)?v.push(e):E.push(e)}),E.sort(function(e,t){return t.diameter-e.diameter}),(g=v.concat(E)).forEach(function(e){return P.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),P.forEach(function(e){return N.push(e[0])}),a.setState({planetList:N,diameter:{direction:"asc"}}))}else if("climate"===e){var b=[],y=[],k=a.state.planetList.map(function(e){return{climate:e.props.data.climate,key:e.key}});"asc"===a.state.climate.direction?(k.sort(function(e,t){return e.climate<t.climate?-1:e.climate>t.climate?1:0}),k.forEach(function(e){b.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),b.forEach(function(e){return y.push(e[0])}),a.setState({planetList:y,climate:{direction:"desc"}})):(k.sort(function(e,t){return t.climate<e.climate?-1:t.climate>e.climate?1:0}),k.forEach(function(e){b.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),b.forEach(function(e){return y.push(e[0])}),a.setState({planetList:y,climate:{direction:"asc"}}))}else if("surfaceWater"===e){var L=[],S=[],O=[],D=[],j=a.state.planetList.map(function(e){return{surfaceWater:e.props.data.surface_water,key:e.key}});"asc"===a.state.surfaceWater.direction?(j.forEach(function(e){return isNaN(e.surfaceWater)?L.push(e):S.push(e)}),S.sort(function(e,t){return e.surfaceWater-t.surfaceWater}),(j=S.concat(L)).forEach(function(e){return O.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),O.forEach(function(e){return D.push(e[0])}),a.setState({planetList:D,surfaceWater:{direction:"desc"}})):(j.forEach(function(e){return isNaN(e.surfaceWater)?L.push(e):S.push(e)}),S.sort(function(e,t){return t.surfaceWater-e.surfaceWater}),(j=L.concat(S)).forEach(function(e){return O.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),O.forEach(function(e){return D.push(e[0])}),a.setState({planetList:D,surfaceWater:{direction:"asc"}}))}else if("population"===e){var C=[],T=[],A=[],w=[],W=a.state.planetList.map(function(e){return{population:e.props.data.population,key:e.key}});"asc"===a.state.population.direction?(W.forEach(function(e){return isNaN(e.population)?C.push(e):T.push(e)}),T.sort(function(e,t){return e.population-t.population}),(W=T.concat(C)).forEach(function(e){return A.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),A.forEach(function(e){return w.push(e[0])}),a.setState({planetList:w,population:{direction:"desc"}})):(W.forEach(function(e){return isNaN(e.population)?C.push(e):T.push(e)}),T.sort(function(e,t){return t.population-e.population}),(W=C.concat(T)).forEach(function(e){return A.push(a.state.planetList.filter(function(t){return t.key===e.key}))}),A.forEach(function(e){return w.push(e[0])}),a.setState({planetList:w,population:{direction:"asc"}}))}}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t;e.planetDetails!==this.props.planetDetails&&(t=this.props.planetDetails.map(function(e,t){return r.a.createElement(b,{key:t,data:e})}),this.setState(function(e){return{planetList:Object(s.a)(t)}}))}},{key:"render",value:function(){return r.a.createElement("table",{className:"planetTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Planet Name")," ",r.a.createElement("div",{onClick:this.handleSort("planetName"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))),r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Rotation period"),r.a.createElement("div",{onClick:this.handleSort("rotationPeriod"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))),r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Orbital period"),r.a.createElement("div",{onClick:this.handleSort("orbitalPeriod"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))),r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Diameter"),r.a.createElement("div",{onClick:this.handleSort("diameter"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))),r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Climate"),r.a.createElement("div",{onClick:this.handleSort("climate"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))),r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Surface water"),r.a.createElement("div",{onClick:this.handleSort("surfaceWater"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))),r.a.createElement("th",null,r.a.createElement("div",{className:"headerBox"},r.a.createElement("span",null,"Population"),r.a.createElement("div",{onClick:this.handleSort("population"),className:"sortIcon"},r.a.createElement("div",null,"\u25b2"),r.a.createElement("div",null,"\u25bc")))))),this.props.loadingPlanets&&this.props.active&&r.a.createElement("tbody",null,r.a.createElement("tr",{className:"planetLoader"},r.a.createElement("td",{colSpan:7},r.a.createElement(g.ClipLoader,{sizeUnit:"px",size:50,color:"#1BA1BE",loading:this.props.loadingPlanets})))),!this.props.loadingPlanets&&this.state.planetList)}}]),t}(r.a.Component),k=function(e){var t=e.planetDetails,a=e.loadingPlanets,n=e.active;return r.a.createElement(y,{planetDetails:t,loadingPlanets:a,active:n})},L=a(10),S=(a(20),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1,loadingPlanets:!0,movieDetails:null,planetDetails:[]},a.handleCollapse=function(){a.state.active?a.setState(function(e){return{active:!e.active,planetDetails:[],loadingPlanets:!0}}):(a.setState(function(e){return{active:!e.active}}),void 0!==a.state.movieDetails&&a.handleFetchPlanet(a.state.movieDetails.planets))},a.handleFetchPlanet=function(e){e.forEach(function(e){fetch(e).then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(e){a.setState(function(t){return{planetDetails:[].concat(Object(s.a)(t.planetDetails),[e])}})}).catch(function(e){return console.log(e)})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({movieDetails:this.props.movie})}},{key:"componentWillUpdate",value:function(){this.state.active&&this.state.movieDetails&&this.state.movieDetails.planets.length===this.state.planetDetails.length+1&&this.setState({loadingPlanets:!1})}},{key:"render",value:function(){return r.a.createElement("li",{className:"movie"},r.a.createElement(L.Accordion,{className:"acc"},r.a.createElement(L.AccordionItem,null,r.a.createElement(L.AccordionItemTitle,{className:"accItemTitle"},r.a.createElement("div",{className:"headerContainer",onClick:this.handleCollapse},r.a.createElement("p",{className:"movieTitle"},this.props.movie&&this.props.movie.title),r.a.createElement("img",{className:"arrow",src:this.state.active?N.a:E.a,alt:"open arrow"}))),r.a.createElement(L.AccordionItemBody,null,r.a.createElement(k,{planetDetails:this.state.planetDetails,loadingPlanets:this.state.loadingPlanets,active:this.state.active})))))}}]),t}(r.a.Component)),O=a(25),D=a.n(O),j=function(e){var t,a=e.movies,n=e.loadingMovies;return null!==a&&(t=a.map(function(e){return r.a.createElement(S,{key:D.a.v4(),movie:e})})),r.a.createElement("ul",{className:"movieBoard"},n?r.a.createElement("div",{className:"movieLoader"},r.a.createElement(g.ClipLoader,{sizeUnit:"px",size:50,color:"#1BA1BE",lading:n})):t)},C=function(e){var t=e.planets,a=e.handlePlanetSelection,n=t.map(function(e){return r.a.createElement("li",{onClick:function(){return a(e.name)},key:e.name},e.name)});return r.a.createElement("ul",{className:"planetList"},n)},T=a(26),A=a.n(T),w=function(e){var t=e.selectedPlanets,a=e.handleDeletePlanet,n=t.map(function(e){return r.a.createElement("li",{key:e},e," ",r.a.createElement("button",{onClick:function(t){return a(t,e)}},r.a.createElement("img",{src:A.a,alt:"delete planet button"})))});return r.a.createElement("ul",{className:"selectedPlanets"},n)},W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={movieTitle:"",planetName:"",planets:[],selectedPlanets:[],selectedPlanetsWithDetails:[],errors:{capitalLetter:!1,movieTitleLength:!1,selectedPlanets:!1}},a.messages={capitalLetter_incorrect:"Movie title must start with a capital letter",movieTitleLength_incorrect:"Movie title must be at least three letters long",selectedPlanets_incorrect:"Please add at least one planet"},a.handleAddMovieTitle=function(e){a.setState({movieTitle:e.target.value})},a.formValidation=function(){var e,t=!1,n=!1,r=!1,l=!1;return a.state.movieTitle&&(e=a.state.movieTitle)[0]!==e[0].toLowerCase()&&(t=!0),a.state.movieTitle.length>2&&(n=!0),a.state.selectedPlanets.length>0&&(l=!0),t&&n&&l&&(r=!0),{capitalLetter:t,movieTitleLength:n,selectedPlanets:l,correct:r}},a.handleSubmit=function(e){e.preventDefault();var t=a.formValidation();t.correct?(a.props.handleAddMovie(a.state.selectedPlanetsWithDetails,a.state.movieTitle),a.setState({movieTitle:"",planetName:"",planets:[],selectedPlanets:[],selectedPlanetsWithDetails:[],errors:{capitalLetter:!1,movieTitleLength:!1}})):a.setState({errors:{capitalLetter:!t.capitalLetter,movieTitleLength:!t.movieTitleLength,selectedPlanets:!t.selectedPlanets}})},a.handleSearch=function(e){0!==e.target.value.length?fetch("https://swapi.co/api/planets?search=".concat(e.target.value)).then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(e){a.setState({planets:Object(s.a)(e.results)})}).catch(function(e){return console.log(e)}):a.setState({planets:[]}),a.setState({planetName:e.target.value})},a.handlePlanetSelection=function(e){-1===a.state.selectedPlanets.indexOf(e)&&a.setState(function(t){return{selectedPlanets:[].concat(Object(s.a)(t.selectedPlanets),[e])}})},a.handleDeletePlanet=function(e,t){e.preventDefault();var n=a.state.selectedPlanets.filter(function(e){return e!==t}),r=a.state.selectedPlanetsWithDetails.filter(function(e){return e[0].name!==t});a.setState({selectedPlanets:n,selectedPlanetsWithDetails:r})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.active!==this.props.active&&this.setState({movieTitle:"",planetName:"",planets:[],selectedPlanets:[],selectedPlanetsWithDetails:[],errors:{capitalLetter:!1,movieTitleLength:!1,selectedPlanets:!1}}),t.selectedPlanets!==this.state.selectedPlanets&&void 0!==this.state.selectedPlanets[this.state.selectedPlanets.length-1]&&this.state.selectedPlanets.length>t.selectedPlanets.length&&fetch("https://swapi.co/api/planets?search=".concat(this.state.selectedPlanets[this.state.selectedPlanets.length-1])).then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(e){a.setState(function(t){return{selectedPlanetsWithDetails:[].concat(Object(s.a)(t.selectedPlanetsWithDetails),[e.results])}})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e,t;return(this.state.errors.capitalLetter||this.state.errors.movieTitleLength)&&(e={color:"red"}),this.state.errors.selectedPlanets&&(t={color:"red"}),r.a.createElement("form",{autoComplete:"off",className:"addForm",onSubmit:this.handleSubmit},r.a.createElement("label",{style:e,htmlFor:"movieTitle"},"Movie title"),r.a.createElement("input",{type:"text",id:"movieTitle",name:"movieTitle",placeholder:"Please enter the title of the movie",value:this.state.movieTitle,onChange:this.handleAddMovieTitle}),(this.state.errors.capitalLetter||this.state.errors.movieTitleLength)&&r.a.createElement("span",null,this.state.errors.capitalLetter&&"".concat(this.messages.capitalLetter_incorrect,". ")," ",this.state.errors.movieTitleLength&&"".concat(this.messages.movieTitleLength_incorrect,".")),this.state.selectedPlanets.length>0&&r.a.createElement(w,{handleDeletePlanet:this.handleDeletePlanet,selectedPlanets:this.state.selectedPlanets}),r.a.createElement("label",{style:t,htmlFor:"addPlanet"},"Add Planet"),r.a.createElement("input",{type:"text",id:"addPlanet",name:"addPlanet",placeholder:"Search for the planet in database",value:this.state.planetName,onChange:this.handleSearch}),this.state.errors.selectedPlanets&&r.a.createElement("span",null,this.messages.selectedPlanets_incorrect,"."),this.state.planets.length>0&&r.a.createElement(C,{handlePlanetSelection:this.handlePlanetSelection,planets:this.state.planets}),r.a.createElement("button",{className:"addBtn"},"Add movie"))}}]),t}(r.a.Component),M=function(e){var t=e.active,a=e.handleAddMovie;return r.a.createElement("div",{className:"addBoard"},r.a.createElement(W,{active:t,handleAddMovie:a}))},x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1},a.handleCollapse=function(){a.setState(function(e){return{active:!e.active}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(L.Accordion,{className:"addMovie"},r.a.createElement(L.AccordionItem,null,r.a.createElement(L.AccordionItemTitle,{className:"accItemTitle"},r.a.createElement("div",{className:"headerContainer",onClick:this.handleCollapse},r.a.createElement("p",{className:"add"},"Add Movie"),r.a.createElement("img",{className:"arrow",src:this.state.active?N.a:E.a,alt:"open arrow"}))),r.a.createElement(L.AccordionItemBody,{className:this.state.active?"boardContainer":""},r.a.createElement(M,{active:this.state.active,handleAddMovie:this.props.handleAddMovie}))))}}]),t}(r.a.Component),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={movies:null,loadingMovies:!0},a.handleAddMovie=function(e,t){var n=e,r={};r.title=t,r.planets=n.map(function(e){return e[0].url}),a.setState({movies:[].concat(Object(s.a)(a.state.movies),[r])})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://swapi.co/api/films/").then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(t){e.setState({movies:Object(s.a)(t.results),loadingMovies:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(f,null),r.a.createElement(j,{movies:this.state.movies,loadingMovies:this.state.loadingMovies}),r.a.createElement(x,{handleAddMovie:this.handleAddMovie}))}}]),t}(n.Component);i.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9cacb26a.chunk.js.map